<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--  
 * 股票指标-MACD（分表）			tab_stock_index_macd
 * 股票ID						stock_id										BIGINT								FOREIGN KEY (fk_index_macd_stockInfo)				PRIMARY KEY
 * 日期							date											VARCHAR(10)																				PRIMARY KEY
 * DIFF							diff											DECIMAL(2,2)
 * DEA							dea												DECIMAL(2,2)
 * MACD							macd											DECIMAL(2,2) -->
<mapper namespace="com.hanslv.stock.selector.crawler.repository.TabStockIndexMacdRepository">
	<!-- 获取一条记录 -->
	<select id="selectOne" resultType="com.hanslv.stock.selector.commons.dto.TabStockIndexMacd">
		SELECT stock_id , date , diff , dea , macd 
		FROM tab_stock_index_macd_shangzheng001 WHERE stock_id = #{stockId} AND date = #{date}
		UNION
		SELECT stock_id , date , diff , dea , macd 
		FROM tab_stock_index_macd_shangzheng002 WHERE stock_id = #{stockId} AND date = #{date}
		UNION
		SELECT stock_id , date , diff , dea , macd 
		FROM tab_stock_index_macd_shangzheng003 WHERE stock_id = #{stockId} AND date = #{date}
		UNION
		SELECT stock_id , date , diff , dea , macd 
		FROM tab_stock_index_macd_shenzheng001 WHERE stock_id = #{stockId} AND date = #{date}
		UNION
		SELECT stock_id , date , diff , dea , macd 
		FROM tab_stock_index_macd_shenzheng002 WHERE stock_id = #{stockId} AND date = #{date}
		UNION
		SELECT stock_id , date , diff , dea , macd 
		FROM tab_stock_index_macd_shenzheng003 WHERE stock_id = #{stockId} AND date = #{date}
	</select>
</mapper>